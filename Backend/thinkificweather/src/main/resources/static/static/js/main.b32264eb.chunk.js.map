{"version":3,"sources":["action/types.js","securityutils/setjwttoken.js","action/securityactions.js","components/header.js","components/searchbar.js","action/weatheraction.js","components/styles/weatherwrapper.js","components/styles/weathericon.js","components/styles/description.js","components/styles/citytemperature.js","components/styles/weatherdetailswrapper.js","components/styles/weatherdetail.js","components/styles/text.js","components/weatherdescription.js","components/styles/notfoundicon.js","components/styles/notfoundtext.js","components/styles/resultfadein.js","components/styles/notfoundwrapper.js","pages/dashboard.js","reducers/errorreducer.js","reducers/securityreducer.js","reducers/weatherreducer.js","reducers/index.js","store.js","pages/register.js","pages/login.js","securityutils/securedroute.js","pages/landingpage.js","App.js","reportWebVitals.js","index.js"],"names":["GET_ERRORS","GET_WEATHER","SET_CURRENT_USER","setJwtToken","token","axios","defaults","headers","common","logout","dispatch","localStorage","removeItem","type","payload","Header","this","props","window","location","href","headerLinks","security","validToken","user","customerIsAuthenticated","className","id","to","fullName","onClick","bind","customerIsNotAuthenticated","Component","connect","state","Searchbar","cityName","errors","onChange","onSubmit","e","setState","target","name","value","preventDefault","console","log","length","getCurrentWeather","style","marginTop","width","placeholder","aria-label","city","a","get","response","data","WeatherWrapper","styled","div","WeatherIcon","Description","h4","color","weight","fontSize","align","firstToUpperCase","CityTemperature","h3","WeatherDetailsWrapper","WeatherDetail","Text","span","formatAMPM","date","hours","getHours","minutes","getMinutes","ampm","getWeatherIcon","weatherMain","icon","faBolt","faCloudRain","faCloudShowersHeavy","faSnowflake","faSun","faCloud","faSmog","Weatherdescription","weather","dt","localTimeOffset","Date","getTimezoneOffset","dateObject","timezone","sunriseObject","sunrise","sunsetObject","sunset","countryCode","Math","floor","temperature","currentTemperatureFeelsLike","weatherDescription","windSpeed","visibility","humidity","pressure","NotfoundIcon","NotFoundText","ResultFadeIn","keyframes","NotFoundWrapper","Dashboard","dashboardMessage","message","error","nextProps","error_message","dashboardContent","errorContent","faFrown","neutralContent","faGrinAlt","initialState","combineReducers","action","middleware","thunk","REACTREDUX_DEVTOOLS","__REDUX_DEVTOOLS_EXTENSION__","store","navigator","userAgent","includes","createStore","reducer","compose","applyMiddleware","Register","username","password","confirmPassword","history","push","newCustomer","createNewCustomer","classnames","post","Login","LoginRequest","customerLogin","res","setItem","decoded","jwt_decode","component","otherProps","render","Landingpage","jwtToken","decoded_jwt","currentTime","now","exp","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b32264eb.chunk.js","sourcesContent":["export const GET_ERRORS = \"GET_ERRORS\";\nexport const GET_WEATHER = \"GET_WEATHER\";\n\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\"; \n","import axios from \"axios\"\n\nconst setJwtToken = token => {\n    if(token) {\n        axios.defaults.headers.common[\"Authorization\"] = token\n    } else {\n        delete axios.defaults.headers.common[\"Authorization\"]\n    }\n}\n\nexport default setJwtToken;","import axios from 'axios'\nimport { GET_ERRORS, SET_CURRENT_USER } from \"./types\";\nimport jwt_decode from 'jwt-decode';\nimport setJwtToken from '../securityutils/setjwttoken'\n\nexport const createNewCustomer = (newCustomer, history) => async dispatch => {\n    try {\n        await axios.post(\"/api/customers/register\", newCustomer);\n        history.push(\"/login\");\n        dispatch({\n            type: GET_ERRORS,\n            payload: {}\n        });\n    } catch (error) {\n        dispatch({\n            type: GET_ERRORS,\n            payload: error.response.data\n        });\n    }\n};\n\nexport const customerLogin = LoginRequest => async dispatch => {\n    try {\n        const res = await axios.post(\"/api/customers/login\", LoginRequest);\n        const {token} = res.data;\n        localStorage.setItem(\"jwtToken\", token);\n        setJwtToken(token);\n        const decoded = jwt_decode(token);\n        dispatch({\n            type: SET_CURRENT_USER,\n            payload: decoded\n        })   \n        } catch (error) {\n            \n            dispatch({\n                type: GET_ERRORS,\n                payload: error.response.data\n            })\n        }\n}\n\nexport const logout = () => dispatch => {\n    localStorage.removeItem(\"jwtToken\");\n    setJwtToken(false);\n    dispatch({\n        type: SET_CURRENT_USER,\n        payload: {}\n    })  \n}","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types';\nimport { logout } from '../action/securityactions';\n\nclass Header extends Component {\n\n    logout() {\n        this.props.logout();\n        window.location.href = \"/\";\n    }\n\n    render() {\n        \n        const {validToken, user} = this.props.security;\n\n        const customerIsAuthenticated = (\n            <div className=\"collapse navbar-collapse\" id=\"mobile-nav\">\n                        <ul className=\"navbar-nav mr-auto\">\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link\" to=\"/dashboard\">\n                                    Dashboard\n                                </Link>\n                            </li>\n                        </ul>\n\n                        <ul className=\"navbar-nav ms-auto\">\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link\" to=\"/dashboard\">\n                                    {user.fullName}\n                                </Link>\n                            </li>\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link\" to=\"/logout\" onClick={this.logout.bind(this)}>\n                                    Logout\n                                </Link>\n                            </li>\n                        </ul>\n                    </div>\n        );\n\n        const customerIsNotAuthenticated = (\n            <div className=\"collapse navbar-collapse\" id=\"mobile-nav\">\n                        \n                        <ul className=\"navbar-nav ms-auto\">\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link\" to=\"/register\">\n                                    Sign Up\n                                </Link>\n                            </li>\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link\" to=\"/login\">\n                                    Login\n                                </Link>\n                            </li>\n                        </ul>\n                    </div>\n        );\n\n        let headerLinks;\n\n        headerLinks = (validToken && user)? customerIsAuthenticated: customerIsNotAuthenticated;\n        return (\n \n            <nav className=\"navbar navbar-expand-sm bg-dark navbar-dark\">\n                <div className=\"container\">\n                    <Link className=\"navbar-brand\" to=\"/\">\n                        Thinkific-Current Weather\n                    </Link>\n\n                    {headerLinks}\n                    \n                </div>\n\n                \n            </nav>\n        )\n    }\n}\n\nHeader.propTypes = {\n    logout: PropTypes.func.isRequired,\n    security: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    security: state.security\n});\n\nexport default connect(mapStateToProps, {logout})(Header);\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport {getCurrentWeather} from '../action/weatheraction'\n\nclass Searchbar extends Component {\n    constructor() {\n        super();\n\n        this.state = {\n            cityName: '',\n            errors: {}\n        }\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    onChange(e) {\n        this.setState({ [e.target.name]: e.target.value});\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        \n        console.log('City search - ' + this.state.cityName);\n        console.log('CityName Length - ' + this.state.cityName.length);\n\n        if(this.state.cityName == null || this.state.cityName.length === 0) {\n            \n        }\n\n        this.props.getCurrentWeather(this.state.cityName);\n    }\n    \n    render() {\n        return (\n            \n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\" style={{ marginTop: `20px` }}>\n                <div className=\"container\">\n                    <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                        <form className=\"d-flex\">\n                            <input \n                                className=\"form-control me-2\" \n                                style={{width: '500px'}} \n                                type=\"search\" \n                                placeholder=\"Search Weather by City\" \n                                aria-label=\"Search\"\n                                name='cityName'\n                                value={this.state.cityName}\n                                onChange={this.onChange} />\n                            <button className=\"btn btn-outline-success\" \n                                type=\"submit\"\n                                onClick={this.onSubmit}>Search</button>\n                        </form>\n                    </div>\n                </div>\n            </nav>\n        )\n    }\n}\n\nSearchbar.propTypes = {\n    getCurrentWeather: PropTypes.func.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    errors: state.errors\n})\n\nexport default connect(mapStateToProps, {getCurrentWeather})(Searchbar);","import axios from 'axios'\nimport { GET_ERRORS, GET_WEATHER } from './types';\n\nexport const getCurrentWeather = (city) => async dispatch => {\n    try {\n        console.log('axios calling for city weather - ' + city);\n        const response = await axios.get(`/api/weather/${city}`)\n        dispatch({\n            type: GET_WEATHER,\n            payload: response.data\n        });\n        dispatch({\n            type: GET_ERRORS,\n            payload: {}\n          });\n    } catch (error) {\n        dispatch({\n            type: GET_ERRORS,\n            payload: error.response.data\n        });\n        dispatch({\n            type: GET_WEATHER,\n            payload: {}\n          });\n    }\n    \n}","import styled from 'styled-components';\n \nconst WeatherWrapper = styled.div`\nflex-basis: 100%;\ndisplay: grid;\njustify-content: center;\nalign-items: center;\ngrid-template-columns: auto 1fr;\nmargin: 20px 0;\ngrid-gap: 30px;\n`;\n\nexport default WeatherWrapper;","import styled from 'styled-components'\n\nconst WeatherIcon = styled.div`\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nfont-size: 70px;\ncolor: #000000;\n`;\n\nexport default WeatherIcon;","import styled from 'styled-components';\n\nconst Description = styled.h4`\n  color: ${({ color }) => color || '#000000'};\n  display: block;\n  font-weight: ${({ weight }) => weight || '600'};\n  font-size: ${({ fontSize }) => fontSize || '15px'};\n  text-align: ${({ align }) => align || 'left'};\n  padding: 5px 0;\n  ${({ firstToUpperCase }) =>\n    firstToUpperCase &&\n    `\n  &:first-letter {\n    text-transform: uppercase;\n  }\n  `}\n`;\n\nexport default Description;","import styled from 'styled-components'\n\nconst CityTemperature = styled.h3`\n  display: block;\n  font-size: 50px;\n  font-weight: 400;\n  color: #000000;\n`;\n\nexport default CityTemperature;","import styled from 'styled-components'\n\nconst WeatherDetailsWrapper = styled.div`\nflex-basis: 100%;\ndisplay: flex;\nflex-wrap: wrap;\npadding: 10px 0;\nmargin: 20px 0;\nbackground-color: rgba(0, 0, 0, 0.2);\nborder-radius: 10px;\nalign-self: flex-start;\n`;\n\nexport default WeatherDetailsWrapper;","import styled from 'styled-components'\n\nconst WeatherDetail = styled.div`\nflex-basis: calc(100% / 3);\npadding: 10px;\n`;\n\nexport default WeatherDetail;","import styled from 'styled-components';\n\nconst Text = styled.span`\n  color: ${({ color }) => color || '#000000'};\n  display: block;\n  font-size: ${({ fontSize }) => fontSize || '12px'};\n  text-align: ${({ align }) => align || 'left'};\n\n  ${({ firstToUpperCase }) =>\n    firstToUpperCase &&\n    `\n  &:first-letter {\n    text-transform: uppercase;\n  }\n  `}\n`;\n\nexport default Text;","import React from 'react'\nimport WeatherWrapper from './styles/weatherwrapper';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faCloud,\n  faBolt,\n  faCloudRain,\n  faCloudShowersHeavy,\n  faSnowflake,\n  faSun,\n  faSmog,\n} from '@fortawesome/free-solid-svg-icons';\nimport WeatherIcon from './styles/weathericon';\nimport Description from './styles/description';\nimport CityTemperature from './styles/citytemperature';\nimport WeatherDetailsWrapper from './styles/weatherdetailswrapper';\nimport WeatherDetail from './styles/weatherdetail';\nimport Text from './styles/text';\n\nconst formatAMPM = (date) => {\n    let hours = date.getHours();\n    let minutes = date.getMinutes();    \n    const ampm = (hours >= 12)? 'PM': 'AM';\n  \n    hours %= 12;\n    hours = hours || 12;    \n    minutes = minutes < 10 ? `0${minutes}` : minutes;\n  \n    const strTime = `${hours}:${minutes} ${ampm}`;\n  \n    return strTime;\n};\n\nconst getWeatherIcon = (weatherMain) => {\n\n    switch(weatherMain) {\n        case 'Thunderstorm':\n            return <FontAwesomeIcon icon={faBolt} />\n        case 'Drizzle':\n            return <FontAwesomeIcon icon={faCloudRain} />\n        case 'Rain':\n            return <FontAwesomeIcon icon={faCloudShowersHeavy} />\n        case 'Snow':\n            return <FontAwesomeIcon icon={faSnowflake} />\n        case 'Clear':\n            return <FontAwesomeIcon icon={faSun} />\n        case 'Clouds':\n            return <FontAwesomeIcon icon={faCloud} />\n        default:\n            return <FontAwesomeIcon icon={faSmog} />\n    }\n}\n\nconst Weatherdescription = ({ weather }) => {\n\n    console.log(weather.dt * 1000);\n    const localTimeOffset = new Date().getTimezoneOffset()*60;\n    console.log(localTimeOffset);\n    \n    const dateObject = new Date( (weather.dt + localTimeOffset + weather.timezone) * 1000);\n    const sunriseObject = new Date( (weather.sunrise + localTimeOffset + weather.timezone) * 1000);\n    const sunsetObject = new Date( (weather.sunset + localTimeOffset + weather.timezone) * 1000);\n\n    return (\n        <div className='container' >\n            <Description>\n                {formatAMPM(dateObject)}\n            </Description>\n            <h2>{weather.cityName}, {weather.countryCode}</h2>\n            <WeatherWrapper>\n                <WeatherIcon>{getWeatherIcon(weather.weatherMain)}</WeatherIcon>\n                <div>\n                    <CityTemperature>{Math.floor(weather.temperature)}&#176;</CityTemperature>\n                    <Description weight=\"400\" firstToUpperCase>\n                        Feels Like {weather.currentTemperatureFeelsLike}&#176;, {weather.weatherMain}, {weather.weatherDescription}\n                    </Description>\n                </div>\n            </WeatherWrapper>\n            <WeatherDetailsWrapper>\n                <WeatherDetail>\n                    <Description align=\"center\" weight=\"400\">\n                        {weather.windSpeed}mph\n                    </Description>\n                    <Text align=\"center\">Wind</Text>\n                </WeatherDetail>\n                <WeatherDetail>\n                    <Description align=\"center\" weight=\"400\">\n                        {1.0*weather.visibility/1000.0}km\n                    </Description>\n                    <Text align=\"center\">Visibility</Text>\n                </WeatherDetail>\n                <WeatherDetail>\n                    <Description align=\"center\" weight=\"400\">\n                        {weather.humidity}%\n                    </Description>\n                    <Text align=\"center\">Humidity</Text>\n                </WeatherDetail>\n                <WeatherDetail>\n                    <Description align=\"center\" weight=\"400\">\n                        {weather.pressure}hPa\n                    </Description>\n                    <Text align=\"center\">Pressure</Text>\n                </WeatherDetail>\n                <WeatherDetail>\n                    <Description align=\"center\" weight=\"400\">\n                        {formatAMPM(sunriseObject)}\n                    </Description>\n                    <Text align=\"center\">Sunrise</Text>\n                </WeatherDetail>\n                <WeatherDetail>\n                    <Description align=\"center\" weight=\"400\">\n                        {formatAMPM(sunsetObject)}\n                    </Description>\n                    <Text align=\"center\">Sunset</Text>\n                </WeatherDetail>\n            </WeatherDetailsWrapper>\n\n        </div>\n    );\n}\nexport default  Weatherdescription;","import styled from 'styled-components'\n\nconst NotfoundIcon = styled.span`\n  display: block;\n  text-align: center;\n  color: #000000;\n  font-size: 40px;\n  margin-right: 10px;\n`;\n\nexport default NotfoundIcon;","import styled from 'styled-components'\n\nconst NotFoundText = styled.span`\ncolor: #000000;\nfont-size: 17px;\n`;\n\nexport default NotFoundText;","import { keyframes } from 'styled-components';\n\nconst ResultFadeIn = keyframes`\nto {\n  opacity: 1;\n      visibility: visible;\n      top: 0;\n}\n`;\n\nexport default ResultFadeIn;","import styled from 'styled-components'\nimport ResultFadeIn from './resultfadein'\n\nconst NotFoundWrapper = styled.div`\nmax-width: 600px;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nmargin: 100px auto 0;\npadding: 20px;\nopacity: 0;\nvisibility: hidden;\nposition: relative;\nborder-radius: 10px;\ntop: 20px;\nbackground-color: rgba(0, 0, 0, 0.3);\nborder-radius: 10px;\nanimation: ${ResultFadeIn} 0.5s 1.4s forwards;\n`;\n\nexport default NotFoundWrapper;","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types'\nimport Searchbar from '../components/searchbar'\nimport Weatherdescription from '../components/weatherdescription';\nimport { faFrown, faGrinAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport NotfoundIcon from '../components/styles/notfoundicon';\nimport NotFoundText from '../components/styles/notfoundtext';\nimport NotFoundWrapper from '../components/styles/notfoundwrapper';\n\nclass Dashboard extends Component {\n    constructor() {\n        super();\n\n        this.state = {\n            error: false,\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.errors) {\n            this.setState({ error: nextProps.errors.error_message?true:false });\n        }\n    }\n\n    dashboardMessage = (message, icon) => (\n        <div className=\"container\">\n                        <NotFoundWrapper>\n                            <NotfoundIcon>\n                                <FontAwesomeIcon icon={icon} />\n                            </NotfoundIcon>\n                            <NotFoundText>{message}</NotFoundText>\n                        </NotFoundWrapper>\n                    </div>\n    );\n\n    render() {\n\n        const {weather} = this.props.weather;\n        const {errors} = this.props;\n\n        let dashboardContent;\n        \n        const errorContent = (this.dashboardMessage(errors.error_message, faFrown));\n        \n        const neutralContent = (this.dashboardMessage('Please enter a city name fron earth to get the current weather !', faGrinAlt));\n\n        if(errors && errors.error_message != null) {\n            dashboardContent = errorContent;\n        } else if(weather && weather.cityName != null) {\n            dashboardContent = (<Weatherdescription weather={weather} />);\n        } else {\n            dashboardContent = neutralContent;\n        }\n\n        return (\n            <div>\n                <Searchbar />\n                {\n                    dashboardContent\n                    /* {this.state.error && errors && \n                    (<div className=\"container\">\n                        <NotFoundWrapper>\n                            <NotfoundIcon>\n                                <FontAwesomeIcon icon={faFrown} />\n                            </NotfoundIcon>\n                            <NotFoundText>{errors.error_message}</NotFoundText>\n                        </NotFoundWrapper>\n                    </div>)\n                }\n                {!this.state.error && weather && <Weatherdescription weather={weather} />}\n                {(!this.state.error || weather.cityName.length() > 0) && (\n                    <div className=\"container\">\n                        <NotFoundWrapper>\n                            <NotfoundIcon>\n                                <FontAwesomeIcon icon={faGrinAlt} />\n                            </NotfoundIcon>\n                            <NotFoundText>Please enter a city name fron earth to get the current weather !</NotFoundText>\n                        </NotFoundWrapper>\n                    </div>\n                )} */}\n            </div>\n            \n        )\n    }\n}\n\nDashboard.propTypes = {\n    weather: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    weather: state.weather,\n    errors: state.errors\n})\nexport default connect(mapStateToProps)(Dashboard);","\nimport { GET_ERRORS } from \"../action/types\";\n\nconst initialState = {};\n\nexport default function( state = initialState, action ) {\n    switch(action.type) {\n        case GET_ERRORS:\n            return action.payload;\n\n        default:\n            return state;\n    }\n}","import { SET_CURRENT_USER } from '../action/types'\n\nconst initialState = {\n    user: {},\n    validToken: false\n}\n\nexport default function(state=initialState, action) {\n    switch(action.type) {\n        case SET_CURRENT_USER:\n            return {\n                ...state,\n                user: action.payload,\n                validToken: (action.payload)?true:false,\n            };\n        default:\n            return state;\n    }\n};","import { GET_WEATHER } from \"../action/types\";\n\nconst initialState = {\n    weather: []\n};\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case GET_WEATHER:\n            return {\n                ...state,\n                weather: action.payload\n            }\n        default:\n            return state;\n    }\n}","import { combineReducers } from \"redux\"\nimport errorreducer from \"./errorreducer\"\nimport securityreducer from \"./securityreducer\";\nimport weatherreducer from \"./weatherreducer\"\n\n\nexport default combineReducers({\n    weather: weatherreducer,\n    errors: errorreducer,\n    security: securityreducer,\n});","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducer from \"./reducers/index\";\n\nconst initialState = {};\nconst middleware = [thunk];\n\nlet store;\n\nlet REACTREDUX_DEVTOOLS = window.__REDUX_DEVTOOLS_EXTENSION__ &&\nwindow.__REDUX_DEVTOOLS_EXTENSION__()\n\nif (window.navigator.userAgent.includes(\"Chrome\") && REACTREDUX_DEVTOOLS) {\n  store = createStore(\n    reducer,\n    initialState,\n    compose(\n      applyMiddleware(...middleware),\n      REACTREDUX_DEVTOOLS\n    )\n  );\n} else {\n  store = createStore(\n    reducer,\n    initialState,\n    compose(applyMiddleware(...middleware))\n  );\n}\n\nexport default store;","import React, { Component } from 'react'\nimport {createNewCustomer} from '../action/securityactions'\nimport PropTypes from 'prop-types'\nimport {connect} from 'react-redux'\nimport classnames from 'classnames'\n\nclass Register extends Component {\n\n    constructor() {\n        super();\n\n        this.state = {\n            username:\"\",\n            fullName:\"\",\n            password:\"\",\n            confirmPassword:\"\",\n            errors: {}\n        };\n\n        this.onChange = this.onChange.bind(this); \n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if(nextProps) {\n            this.setState({\n                errors: nextProps.errors\n            });\n        }\n    }\n\n    componentDidMount() {\n        if(this.props.security.validToken) {\n            this.props.history.push(\"/dashboard\");\n        }\n    }\n\n    onChange(e) {\n        this.setState({ [e.target.name]: e.target.value});\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        const newCustomer = {\n            username: this.state.username,\n            fullName: this.state.fullName,\n            password: this.state.password,\n            confirmPassword: this.state.confirmPassword,\n        };\n\n        this.props.createNewCustomer(newCustomer, this.props.history);\n    }\n\n    render() {\n\n        const {errors} = this.state;\n\n        return (\n            <div className=\"register\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-8 m-auto\">\n                            <h1 className=\"display-4 text-center\">Sign Up</h1>\n                            <p className=\"lead text-center\">Create your Account</p>\n                            <form onSubmit={this.onSubmit}>\n                                <div className=\"mb-3\">\n                                    <input type=\"text\" \n                                    className={classnames(\"form-control form-control-lg\" , {\n                                        \"is-invalid\": errors.fullName\n                                    })}\n                                    placeholder=\"Full Name\" \n                                    name=\"fullName\"\n                                    value={this.state.fullName} \n                                    onChange={this.onChange}\n                                    />\n                                    {\n                                        errors.fullName && (\n                                            <div className=\"invalid-feedback\">{errors.fullName}</div>\n                                        )\n                                    }\n                                </div>\n                                <div className=\"mb-3\">\n                                    <input type=\"email\" \n                                    className={classnames(\"form-control form-control-lg\" , {\n                                        \"is-invalid\": errors.username\n                                    })}\n                                    placeholder=\"Email Address (Username)\" \n                                    name=\"username\" \n                                    value={this.state.username}\n                                    onChange={this.onChange}\n                                    />\n                                    {\n                                        errors.username && (\n                                            <div className=\"invalid-feedback\">{errors.username}</div>\n                                        )\n                                    }\n                                </div>\n                                <div className=\"mb-3\">\n                                    <input type=\"password\" \n                                    className={classnames(\"form-control form-control-lg\", {\n                                        \"is-invalid\": errors.password\n                                    })} \n                                    placeholder=\"Password\" \n                                    name=\"password\" \n                                    value={this.state.password}\n                                    onChange={this.onChange}\n                                    />\n\n                                    {\n                                        errors.password && (\n                                            <div className=\"invalid-feedback\">{errors.password}</div>\n                                        )\n                                    }\n                                </div>\n                                <div className=\"mb-3\">\n                                    <input type=\"password\" \n                                    className={classnames(\"form-control form-control-lg\", {\n                                        \"is-invalid\": errors.confirmPassword\n                                    })} \n                                    placeholder=\"Confirm Password\"\n                                    name=\"confirmPassword\" \n                                    value={this.state.confirmPassword}\n                                    onChange={this.onChange}\n                                    />\n                                    {\n                                        errors.confirmPassword && (\n                                            <div className=\"invalid-feedback\">{errors.confirmPassword}</div>\n                                        )\n                                    }\n                                </div>\n                                <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nRegister.propTypes = {\n    createNewCustomer: PropTypes.func.isRequired,\n    errors: PropTypes.object.isRequired,\n    security: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    errors: state.errors,\n    security: state.security\n});\n\nexport default connect(mapStateToProps, {createNewCustomer})(Register);","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport { customerLogin } from '../action/securityactions'\n\nclass Login extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            username: \"\",\n            password: \"\",\n            errors: {}\n        }\n\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.security.validToken) {\n            this.props.history.push(\"/dashboard\");\n        }\n\n        if(nextProps.errors) {\n            this.setState({\n                errors: nextProps.errors\n            })\n        }\n    }\n\n    componentDidMount() {\n        if(this.props.security.validToken) {\n            this.props.history.push(\"/dashboard\");\n        }\n    }\n\n    onChange(e) {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        const LoginRequest = {\n            username: this.state.username,\n            password: this.state.password\n        };\n        this.props.customerLogin(LoginRequest);\n    }\n\n    render() {\n        const {errors} = this.state;\n        return (\n            <div className=\"login\">\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-md-8 m-auto\">\n                        <h1 className=\"display-4 text-center\">Log In</h1>\n                        <form onSubmit={this.onSubmit}>\n                            <div className=\"mb-3\">\n                                <input type=\"email\" \n                                className={classnames(\"form-control form-control-lg\", {\n                                    \"is-invalid\": errors.username\n                                })}\n                                placeholder=\"Email Address (Username)\" \n                                name=\"username\"\n                                value={this.state.username}\n                                onChange={this.onChange} />\n                                {\n                                errors.username && (\n                                    <div className=\"invalid-feedback\">{errors.username}</div>\n                                )\n                            }\n                            </div>\n                            \n\n                            <div className=\"mb-3\">\n                                <input type=\"password\" \n                                className={classnames(\"form-control form-control-lg\", {\n                                    \"is-invalid\": errors.password\n                                })}\n                                placeholder=\"Password\" \n                                name=\"password\"\n                                value={this.state.password}\n                                onChange={this.onChange} />\n                                {\n                                errors.password && (\n                                    <div className=\"invalid-feedback\">{errors.password}</div>\n                                )\n                            }\n                            </div>\n                            \n                            <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n        )\n    }\n}\n\nLogin.propTypes = {\n    customerLogin: PropTypes.func.isRequired,\n    security: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    errors: state.errors,\n    security: state.security\n})\n\nexport default connect(mapStateToProps, {customerLogin})(Login);","import React from 'react'\nimport {Route, Redirect} from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nconst SecuredRoute = ({component: Component, \n    security, \n    ...otherProps}) => (\n    <Route \n        {...otherProps} \n        render={props => security.validToken === true?(<Component {...props}/>):(<Redirect to=\"/login\" />)}/>\n);\n\nSecuredRoute.propTypes = {\n    security: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    security: state.security\n});\n\nexport default connect(mapStateToProps)(SecuredRoute);","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nclass Landingpage extends Component {\n\n    componentDidMount() {\n        if(this.props.security.validToken) {\n            this.props.history.push(\"/dashboard\");\n        }\n    }\n\n    render() {\n        return (\n\n            <div className=\"landingpage\">\n                <div className=\"light-overlay landing-inner text-dark\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-ms-12 text-center\">\n                                <h1 className=\"display-3 me-md-3\" style={{marginTop: '50px'}}>Thinkific Take Home Test</h1>\n                                <p className=\"lead\" style={{marginTop: '50px'}}>\n                                    Create your account to enjoy current weather information of any city in planet earth !!\n                                </p>\n                                <hr />\n                                <Link className=\"btn btn-lg btn-primary mr-2\" to=\"/register\">\n                                    Sign Up\n                                </Link>\n                                <Link className=\"btn btn-lg btn-secondary ms-2\" to=\"/login\">\n                                    Login\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        )\n    }\n}\n\nLandingpage.propTypes = {\n    security: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    security: state.security\n})\n\nexport default connect(mapStateToProps)(Landingpage);","\nimport Header from './components/header';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Dashboard from './pages/dashboard';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport Register from './pages/register';\nimport Login from './pages/login';\nimport SecuredRoute from './securityutils/securedroute';\nimport Landingpage from './pages/landingpage';\nimport setJwtToken from './securityutils/setjwttoken';\nimport jwt_decode from 'jwt-decode';\nimport { logout } from './action/securityactions';\nimport { SET_CURRENT_USER } from './action/types';\n\n\nconst jwtToken = localStorage.jwtToken;\n\nif(jwtToken) {\n  setJwtToken(jwtToken);\n  const decoded_jwt = jwt_decode(jwtToken);\n  store.dispatch({\n    type: SET_CURRENT_USER,\n    payload: decoded_jwt\n  });\n\n  const currentTime = Date.now() / 1000;\n  \n  if(decoded_jwt.exp < currentTime) {\n    // handle logout\n    store.dispatch(logout());\n    window.location.href = \"/\";\n    // window.location.href = \"/\";\n  }\n\n}\n\nfunction App() {\n  return (\n    <Provider store={store}>\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <Route exact path=\"/\" component={Landingpage} />\n        <Route exact path=\"/register\" component={Register} />\n        <Route exact path=\"/login\" component={Login} />\n\n        {\n          // Private route\n        }\n        <Switch>\n        <SecuredRoute exact path=\"/dashboard\" component={Dashboard} />\n        </Switch>\n\n      </div>\n    </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}